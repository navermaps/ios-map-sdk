
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Overlays · NAVER Map iOS SDK</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-codegroup/code.group.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="5-2.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="0.html">
            
                <a href="0.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Developer Guide</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="1.html">
            
                <a href="1.html">
            
                    
                    Get Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <span>
            
                    
                    Map and Coordinates
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="2-1.html">
            
                <a href="2-1.html">
            
                    
                    Map Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="2-2.html">
            
                <a href="2-2.html">
            
                    
                    Coordinates Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="2-3.html">
            
                <a href="2-3.html">
            
                    
                    Map Options
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" >
            
                <span>
            
                    
                    Camera
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="3-1.html">
            
                <a href="3-1.html">
            
                    
                    Camera and Projection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="3-2.html">
            
                <a href="3-2.html">
            
                    
                    Camera Movement
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" >
            
                <span>
            
                    
                    Interaction
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="4-1.html">
            
                <a href="4-1.html">
            
                    
                    User Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="4-2.html">
            
                <a href="4-2.html">
            
                    
                    Location
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" >
            
                <span>
            
                    
                    Overlay
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="2.5.1" data-path="5-1.html">
            
                <a href="5-1.html">
            
                    
                    Overlays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="5-2.html">
            
                <a href="5-2.html">
            
                    
                    Marker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.3" data-path="5-3.html">
            
                <a href="5-3.html">
            
                    
                    Info Window
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.4" data-path="5-4.html">
            
                <a href="5-4.html">
            
                    
                    Shapes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.5" data-path="5-5.html">
            
                <a href="5-5.html">
            
                    
                    Location Overlay
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.6" data-path="5-6.html">
            
                <a href="5-6.html">
            
                    
                    Ground Overlay
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.7" data-path="5-7.html">
            
                <a href="5-7.html">
            
                    
                    Path and Arrow
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Reference</li>
        
        
    
        <li class="chapter " data-level="3.1" >
            
                <a target="_blank" href="ref://../reference/">
            
                    
                    API Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <a target="_blank" href="https://github.com/navermaps/ios-map-sdk">
            
                    
                    Demo Project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" >
            
                <a target="_blank" href="https://github.com/navermaps/ios-map-sdk/blob/master/CHANGELOG.md">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">See Also</li>
        
        
    
        <li class="chapter " data-level="4.1" >
            
                <a target="_blank" href="ref://../guide-ko/">
            
                    
                    한국어(Korean)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" >
            
                <a target="_blank" href="https://navermaps.github.io/android-map-sdk">
            
                    
                    Android SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" >
            
                <a target="_blank" href="https://www.ncloud.com">
            
                    
                    NAVER CLOUD PLATFORM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" >
            
                <a target="_blank" href="https://www.ncloud.com/support/question/service">
            
                    
                    Questions / Contact Us
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Overlays</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="overlays">Overlays</h1>
<p>An overlay is an element visually representing geographical information, which you can freely place on your map. The NAVER Maps SDK provides various types of overlays, such as markers, info windows and shapes. For more information, refer to the documentation of each overlay.</p>
<h2 id="add-and-remove-overlays">Add and remove overlays</h2>
<h3 id="create-objects">Create objects</h3>
<p>All overlays except location overlays can be created just like a general class object.</p>
<p>The following code example creates a marker object.</p>
<p><div id="d90d9f85be0ccf8a918a8cc2db0f923d" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-414d0133e9c11d2044f63800695c94f5" class="gbcg-selector gbcg-active" data-tab="0-414d0133e9c11d2044f63800695c94f5" data-tab-category="undefined">Swift</a>
    <a id="select-1-dece4bcddfd25f86a8514663f06eaf77" class="gbcg-selector" data-tab="1-dece4bcddfd25f86a8514663f06eaf77" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-414d0133e9c11d2044f63800695c94f5" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> marker = <span class="hljs-type">NMFMarker</span>()
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-414d0133e9c11d2044f63800695c94f5" id="swift">Swift</h3>
        <div id="0-414d0133e9c11d2044f63800695c94f5" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> marker = <span class="hljs-type">NMFMarker</span>()
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-dece4bcddfd25f86a8514663f06eaf77" id="objective-c">Objective-C</h3>
        <div id="1-dece4bcddfd25f86a8514663f06eaf77" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">NMFMarker *marker = [NMFMarker new];
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>You can get a location overlay object, with the <a href="ref://../reference/Classes/NMFMapView.html#/c%3Aobjc%28cs%29NMFMapView%28py%29locationOverlay" target="_blank"><code>locationOverlay</code></a> property of <code>NMFMapView</code>.</p>
<p>The following code example gets a location overlay object.</p>
<p><div id="f7b81312b327173b599c19239580fa0b" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-8e1ba5bdb586536c831244567eaf9d1a" class="gbcg-selector gbcg-active" data-tab="0-8e1ba5bdb586536c831244567eaf9d1a" data-tab-category="undefined">Swift</a>
    <a id="select-1-f3bb0bb97db40d5c1b14ba39e125b2f6" class="gbcg-selector" data-tab="1-f3bb0bb97db40d5c1b14ba39e125b2f6" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-8e1ba5bdb586536c831244567eaf9d1a" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> locationOverlay = mapView.locationOverlay
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-8e1ba5bdb586536c831244567eaf9d1a" id="swift">Swift</h3>
        <div id="0-8e1ba5bdb586536c831244567eaf9d1a" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> locationOverlay = mapView.locationOverlay
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-f3bb0bb97db40d5c1b14ba39e125b2f6" id="objective-c">Objective-C</h3>
        <div id="1-f3bb0bb97db40d5c1b14ba39e125b2f6" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">NMFLocationOverlay *locationOverlay = self.mapView.locationOverlay;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="add-overlays">Add overlays</h3>
<p>All overlays except location overlays can be added to the map by specifying the <a href="ref://../reference/Classes/NMFOverlay.html#/c%3Aobjc%28cs%29NMFOverlay%28py%29mapView" target="_blank"><code>mapView</code></a> property. For information on how to add location overlays to the map, refer to <a href="5-5.html">Location Overlays</a>.</p>
<p>The following code example adds a marker to the map.</p>
<p><div id="095462c0cc824f2aef391c1e9aa70a26" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-9c86bbb3070df5ca157d574147cdbfed" class="gbcg-selector gbcg-active" data-tab="0-9c86bbb3070df5ca157d574147cdbfed" data-tab-category="undefined">Swift</a>
    <a id="select-1-5eb89ecdb9256154b774b09938a95b44" class="gbcg-selector" data-tab="1-5eb89ecdb9256154b774b09938a95b44" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-9c86bbb3070df5ca157d574147cdbfed" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">marker.mapView = mapView
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-9c86bbb3070df5ca157d574147cdbfed" id="swift">Swift</h3>
        <div id="0-9c86bbb3070df5ca157d574147cdbfed" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">marker.mapView = mapView
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-5eb89ecdb9256154b774b09938a95b44" id="objective-c">Objective-C</h3>
        <div id="1-5eb89ecdb9256154b774b09938a95b44" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">marker.mapView = self.mapView;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>Besides the <code>mapView</code> property, you can also use the <a href="ref://../reference/Classes/NMFInfoWindow.html#/c%3Aobjc%28cs%29NMFInfoWindow%28im%29openWithMarker:" target="_blank"><code>-openWithMarker:</code></a> method, to open an info window for your map or markers.</p>
<p>The following code example adds an info window to a marker.</p>
<p><div id="3fbb11e8f37f857f1503dfc6c01f2d4e" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-6783d3aa0dfbe9204ec3cb35788683f1" class="gbcg-selector gbcg-active" data-tab="0-6783d3aa0dfbe9204ec3cb35788683f1" data-tab-category="undefined">Swift</a>
    <a id="select-1-97d21780c2d4a06ce896b019149a89bd" class="gbcg-selector" data-tab="1-97d21780c2d4a06ce896b019149a89bd" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-6783d3aa0dfbe9204ec3cb35788683f1" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">infoWindow.open(with: marker)
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-6783d3aa0dfbe9204ec3cb35788683f1" id="swift">Swift</h3>
        <div id="0-6783d3aa0dfbe9204ec3cb35788683f1" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">infoWindow.open(with: marker)
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-97d21780c2d4a06ce896b019149a89bd" id="objective-c">Objective-C</h3>
        <div id="1-97d21780c2d4a06ce896b019149a89bd" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">[infoWindow openWithMarker:marker];
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>As the <code>mapView</code> is the property of an overlay, one overlay cannot be displayed on two or more maps at the same time. If you newly set the <code>mapView</code> property to an overlay that is already on the map, the overlay disappears from the previous map and appears on the new map.</p>
<h3 id="remove-overlays">Remove overlays</h3>
<p>All overlays except location overlays can be removed from the map by setting the <code>mapView</code> property to <code>nil</code>. For information on how to remove location overlays from the map, refer to <a href="5-5.html">Location Overlays</a>.</p>
<p>The following code example removes a marker from the map.</p>
<p><div id="9ce53a9fc2c67ecd9c6511c815aa06c7" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-f9cd749ee5476f2e4a923e8befcde2a1" class="gbcg-selector gbcg-active" data-tab="0-f9cd749ee5476f2e4a923e8befcde2a1" data-tab-category="undefined">Swift</a>
    <a id="select-1-7e4db5f27de4055b045b823c9c756622" class="gbcg-selector" data-tab="1-7e4db5f27de4055b045b823c9c756622" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-f9cd749ee5476f2e4a923e8befcde2a1" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">marker.mapView = <span class="hljs-literal">nil</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-f9cd749ee5476f2e4a923e8befcde2a1" id="swift">Swift</h3>
        <div id="0-f9cd749ee5476f2e4a923e8befcde2a1" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">marker.mapView = <span class="hljs-literal">nil</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-7e4db5f27de4055b045b823c9c756622" id="objective-c">Objective-C</h3>
        <div id="1-7e4db5f27de4055b045b823c9c756622" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">marker.mapView = nil;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>Besides the <code>mapView</code> property, you can also use the <a href="ref://../reference/Classes/NMFInfoWindow.html#/c%3Aobjc%28cs%29NMFInfoWindow%28im%29close" target="_blank"><code>-close</code></a> method to close an info window.</p>
<p>The following code example closes an info window.</p>
<p><div id="05fcf6d5b70d6be1563d2fcbd9551e83" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-1c9ccf2386197a62035653f4c5d9a585" class="gbcg-selector gbcg-active" data-tab="0-1c9ccf2386197a62035653f4c5d9a585" data-tab-category="undefined">Swift</a>
    <a id="select-1-b244f93773f82e5d3c3469678d0e65c4" class="gbcg-selector" data-tab="1-b244f93773f82e5d3c3469678d0e65c4" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-1c9ccf2386197a62035653f4c5d9a585" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">infoWindow.close();
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-1c9ccf2386197a62035653f4c5d9a585" id="swift">Swift</h3>
        <div id="0-1c9ccf2386197a62035653f4c5d9a585" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">infoWindow.close();
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-b244f93773f82e5d3c3469678d0e65c4" id="objective-c">Objective-C</h3>
        <div id="1-b244f93773f82e5d3c3469678d0e65c4" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">[infoWindow close];
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="multithreading">Multithreading</h3>
<p>An overlay object can be created by any thread. However, since an overlay&#x2019;s properties are not thread-safe, they cannot be accessed simultaneously by multiple threads. In particular, properties of an overlay added to a map should be accessed by the main thread, otherwise <a href="https://developer.apple.com/documentation/foundation/nsobjectinaccessibleexception?language=objc" target="_blank"><code>NSObjectInaccessibleException</code></a> occurs. Note that the exception does not occur even if other threads access the properties of the overlay that is not added to a map. </p>
<p>Therefore, when handling a large number of overlays, you can use a background thread to create an object and set initial options while using the main thread only to add an overlay to the map for efficiency. The following code example creates 1,000 markers and set their properties in a background thread and adds them to the map.</p>
<p><div id="7101982ab80d53a137628d2d7276d0b8" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-d8b72026ae0f8a18807005597aaa60fa" class="gbcg-selector gbcg-active" data-tab="0-d8b72026ae0f8a18807005597aaa60fa" data-tab-category="undefined">Swift</a>
    <a id="select-1-e5a96912adff2c77aafcaffa77d75a90" class="gbcg-selector" data-tab="1-e5a96912adff2c77aafcaffa77d75a90" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-d8b72026ae0f8a18807005597aaa60fa" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift"><span class="hljs-type">DispatchQueue</span>.global(qos: .<span class="hljs-keyword">default</span>).async {
    <span class="hljs-comment">// Background thread</span>
    <span class="hljs-keyword">var</span> markers = [<span class="hljs-type">NMFMarker</span>]()
    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>...<span class="hljs-number">1000</span> {
        <span class="hljs-keyword">let</span> marker = <span class="hljs-type">NMFMarker</span>(position: ...)
        marker.iconImage = ...
        marker.captionText = ...
        markers.append(marker)
    }

    <span class="hljs-type">DispatchQueue</span>.main.async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
        <span class="hljs-comment">// Main thread</span>
        <span class="hljs-keyword">for</span> marker <span class="hljs-keyword">in</span> markers {
            marker.mapView = <span class="hljs-keyword">self</span>?.mapView
        }
    }
}
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-d8b72026ae0f8a18807005597aaa60fa" id="swift">Swift</h3>
        <div id="0-d8b72026ae0f8a18807005597aaa60fa" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift"><span class="hljs-type">DispatchQueue</span>.global(qos: .<span class="hljs-keyword">default</span>).async {
    <span class="hljs-comment">// Background thread</span>
    <span class="hljs-keyword">var</span> markers = [<span class="hljs-type">NMFMarker</span>]()
    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>...<span class="hljs-number">1000</span> {
        <span class="hljs-keyword">let</span> marker = <span class="hljs-type">NMFMarker</span>(position: ...)
        marker.iconImage = ...
        marker.captionText = ...
        markers.append(marker)
    }

    <span class="hljs-type">DispatchQueue</span>.main.async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
        <span class="hljs-comment">// Main thread</span>
        <span class="hljs-keyword">for</span> marker <span class="hljs-keyword">in</span> markers {
            marker.mapView = <span class="hljs-keyword">self</span>?.mapView
        }
    }
}
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-e5a96912adff2c77aafcaffa77d75a90" id="objective-c">Objective-C</h3>
        <div id="1-e5a96912adff2c77aafcaffa77d75a90" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">__block ViewController *weakSelf = self;
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    // Background thread
    NSMutableArray&lt;NMFMarker *&gt; *markers = [NSMutableArray array];
    for (NSInteger i = 0; i &lt; 1000; i++) {
        NMFMarker *marker = [NMFMarker markerWithPosition:...];
        marker.iconImage = ...;
        marker.captionText = ...;
        [markers addObject:marker];
    }

    dispatch_async(dispatch_get_main_queue(), ^(){
        // Main thread
        for (NMFMarker *marker in markers) {
            marker.mapView = weakSelf.mapView;
        }
    });
});
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h2 id="bitmap">Bitmap</h2>
<p>Most overlays including markers, info windows, location overlays, ground overlays and path overlays use bitmap images. To use bitmap images for your overlays, you should create an <code>NMFOverlayImage</code> object.</p>
<h3 id="create-nmfoverlayimage-objects">Create NMFOverlayImage objects</h3>
<p><a href="ref://../reference/Classes/NMFOverlayImage.html" target="_blank"><code>NMFOverlayImage</code></a> is an immutable class representing a bitmap image that can be used as an icon. Using the factory methods defined in the <code>NMFOverlayImage</code> class, you can create an instance from image assets, <code>UIImage</code>, and <code>NSBundle</code>. The list below describes some factory methods.</p>
<ul>
<li><a href="ref://../reference/Classes/NMFOverlayImage.html#/c%3Aobjc%28cs%29NMFOverlayImage%28cm%29overlayImageWithName:" target="_blank"><code>+overlayImageWithName:</code></a>: Creates an object from the image asset with the specified name.</li>
<li><a href="ref://../reference/Classes/NMFOverlayImage.html#/c%3Aobjc%28cs%29NMFOverlayImage%28cm%29overlayImageWithImage:" target="_blank"><code>+overlayImageWithImage:</code></a>: Creates an object from <code>UIImage</code>.</li>
<li><a href="ref://../reference/Classes/NMFOverlayImage.html#/c%3Aobjc%28cs%29NMFOverlayImage%28cm%29overlayImageWithName:inBundle:" target="_blank"><code>+overlayImageWithName:inBundle:</code></a>: Creates an object by searching for an image with the specified name from the image asset in the specified bundle.</li>
</ul>
<p>The following code example creates an <code>NMFOverlayImage</code> object from the image asset resource.</p>
<p><div id="efb77d70d8b948b0fc07fa2ae7f763c5" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-cbcdddcb88a920de88bea013f5390044" class="gbcg-selector gbcg-active" data-tab="0-cbcdddcb88a920de88bea013f5390044" data-tab-category="undefined">Swift</a>
    <a id="select-1-135e957ba47a6a827a69c71e67ab653f" class="gbcg-selector" data-tab="1-135e957ba47a6a827a69c71e67ab653f" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-cbcdddcb88a920de88bea013f5390044" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> image = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-cbcdddcb88a920de88bea013f5390044" id="swift">Swift</h3>
        <div id="0-cbcdddcb88a920de88bea013f5390044" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> image = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-135e957ba47a6a827a69c71e67ab653f" id="objective-c">Objective-C</h3>
        <div id="1-135e957ba47a6a827a69c71e67ab653f" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">NMFOverlayImage *image = [NMFOverlayImage overlayImageWithName:@&quot;marker_icon&quot;];
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>Set the <code>NMFOverlayImage</code> object in the property of the overlay that needs a bitmap, and the image is reflected. For more information, refer to the documentation of each overlay.</p>
<p>The following code example sets a marker icon.</p>
<p><div id="d92471adc6dcf9e9d11054bedd63efc5" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-502a43e2e4d0559fb301daef0a11912f" class="gbcg-selector gbcg-active" data-tab="0-502a43e2e4d0559fb301daef0a11912f" data-tab-category="undefined">Swift</a>
    <a id="select-1-cf977787f92b2769cecf0fe3bd36d3f4" class="gbcg-selector" data-tab="1-cf977787f92b2769cecf0fe3bd36d3f4" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-502a43e2e4d0559fb301daef0a11912f" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> image = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
marker.iconImage = image
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-502a43e2e4d0559fb301daef0a11912f" id="swift">Swift</h3>
        <div id="0-502a43e2e4d0559fb301daef0a11912f" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> image = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
marker.iconImage = image
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-cf977787f92b2769cecf0fe3bd36d3f4" id="objective-c">Objective-C</h3>
        <div id="1-cf977787f92b2769cecf0fe3bd36d3f4" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">NMFOverlayImage *image = [NMFOverlayImage overlayImageWithName:@&quot;marker_icon&quot;];
marker.iconImage = image;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="nmfoverlayimage-using-uiview">NMFOverlayImage using UIView</h3>
<p>You can also create an <code>NMFOverlayImage</code> using a custom view. Implement an <a href="ref://../reference/Protocols/NMFOverlayImageDataSource.html" target="_blank"><code>NMFOverlayImageDataSource</code></a> protocol in a custom view to be used as an <code>NMFOverlayImage</code>, and add it as a <code>dataSource</code> of the <code>NMFOverlay</code> object to use.</p>
<h3 id="memory-management">Memory management</h3>
<p>Since the <code>NMFOverlayImage</code> object handles bitmap images, you should carefully manage memory. If multiple overlays use the same image, only one <code>NMFOverlayImage</code> instance is needed.</p>
<p>The following code example shows a bad case where <code>marker1</code> and <code>marker2</code> share one bitmap image but <code>marker3</code> and <code>marker4</code> each have the same bitmap image.</p>
<p><div id="e50086e0957a23f768e39aa3c007b61c" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-53e8575ce7fb4aa9643ff6db13adfb0f" class="gbcg-selector gbcg-active" data-tab="0-53e8575ce7fb4aa9643ff6db13adfb0f" data-tab-category="undefined">Swift</a>
    <a id="select-1-7a26daa6fea4f720bd050799ed52cbc6" class="gbcg-selector" data-tab="1-7a26daa6fea4f720bd050799ed52cbc6" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-53e8575ce7fb4aa9643ff6db13adfb0f" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift"><span class="hljs-comment">// Good: marker1 and 2 share the same bitmap.</span>
<span class="hljs-keyword">let</span> image = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
marker1.iconImage = image
marker2.iconImage = image

<span class="hljs-comment">// Bad: marker3 and 4 each have the same bitmap.</span>
marker3.iconImage = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
marker4.iconImage = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-53e8575ce7fb4aa9643ff6db13adfb0f" id="swift">Swift</h3>
        <div id="0-53e8575ce7fb4aa9643ff6db13adfb0f" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift"><span class="hljs-comment">// Good: marker1 and 2 share the same bitmap.</span>
<span class="hljs-keyword">let</span> image = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
marker1.iconImage = image
marker2.iconImage = image

<span class="hljs-comment">// Bad: marker3 and 4 each have the same bitmap.</span>
marker3.iconImage = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
marker4.iconImage = <span class="hljs-type">NMFOverlayImage</span>(name: <span class="hljs-string">&quot;marker_icon&quot;</span>)
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-7a26daa6fea4f720bd050799ed52cbc6" id="objective-c">Objective-C</h3>
        <div id="1-7a26daa6fea4f720bd050799ed52cbc6" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">// Good: marker1 and 2 share the same bitmap.
NMFOverlayImage *image = NMFOverlayImage overlayImageWithName:@&quot;marker_icon&quot;];
marker1.iconImage = image;
marker2.iconImage = image;

// Bad: marker3 and 4 each have the same bitmap.
marker3.iconImage = [NMFOverlayImage overlayImageWithName:@&quot;marker_icon&quot;];
marker4.iconImage = [NMFOverlayImage overlayImageWithName:@&quot;marker_icon&quot;];
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>Note that if <code>NMFOverlayImage</code> objects are created from <code>UIImage</code> objects, and the <code>NMFOverlayImage</code> objects refer to the same <code>UIImage</code>, the instances share the same bitmap even if they are different.</p>
<p>The following code example shows a case where <code>marker1</code>, <code>marker2</code>, <code>marker3</code>, and <code>marker4</code> share the same bitmap.</p>
<p><div id="b824668f5195db915c48048ff6466509" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-e13693d411510000c2abdd76e79058ec" class="gbcg-selector gbcg-active" data-tab="0-e13693d411510000c2abdd76e79058ec" data-tab-category="undefined">Swift</a>
    <a id="select-1-48c98504685b890952deb0ab5cbe6fb7" class="gbcg-selector" data-tab="1-48c98504685b890952deb0ab5cbe6fb7" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-e13693d411510000c2abdd76e79058ec" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift"><span class="hljs-comment">// Good: marker1 and 2 share the same bitmap.</span>
<span class="hljs-keyword">let</span> image = <span class="hljs-type">NMFOverlayImage</span>(image: bitmap)
marker1.iconImage = image
marker2.iconImage = image

<span class="hljs-comment">// OK: marker3 and 4 each use different NMFOverlayImage objects but refer to the same resource, so they share the same bitmap.</span>
marker3.iconImage = <span class="hljs-type">NMFOverlayImage</span>(image: bitmap)
marker4.iconImage = <span class="hljs-type">NMFOverlayImage</span>(image: bitmap)
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-e13693d411510000c2abdd76e79058ec" id="swift">Swift</h3>
        <div id="0-e13693d411510000c2abdd76e79058ec" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift"><span class="hljs-comment">// Good: marker1 and 2 share the same bitmap.</span>
<span class="hljs-keyword">let</span> image = <span class="hljs-type">NMFOverlayImage</span>(image: bitmap)
marker1.iconImage = image
marker2.iconImage = image

<span class="hljs-comment">// OK: marker3 and 4 each use different NMFOverlayImage objects but refer to the same resource, so they share the same bitmap.</span>
marker3.iconImage = <span class="hljs-type">NMFOverlayImage</span>(image: bitmap)
marker4.iconImage = <span class="hljs-type">NMFOverlayImage</span>(image: bitmap)
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-48c98504685b890952deb0ab5cbe6fb7" id="objective-c">Objective-C</h3>
        <div id="1-48c98504685b890952deb0ab5cbe6fb7" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">// Good: marker1 and 2 share the same bitmap.
NMFOverlayImage *image = [NMFOverlayImage overlayImageWithImage:bitmap];
marker1.iconImage = image;
marker2.iconImage = image;

// OK: marker3 and 4 each use different OverlayImage objects but refer to the same resource, so they share the same bitmap.
marker3.iconImage = [NMFOverlayImage overlayImageWithImage:bitmap];
marker4.iconImage = [NMFOverlayImage overlayImageWithImage:bitmap];
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>If too many bitmap images are used for the map to handle, the map rendering becomes very slow with a log message saying &quot;Overlay image atlas overflow&quot; in the Xcode console. And if the memory usage is too high, the process will be terminated because of out of memory (OOM).</p>
<h2 id="stacking-order-of-overlays">Stacking order of overlays</h2>
<p>When multiple overlays are overlapped on the screen, an overlay with a higher stack order is displayed on top of those with lower stack orders. The stack order is specified depending on the type of an overlay by default, but can be changed.</p>
<h3 id="global-z-index">Global z-index</h3>
<p>The <a href="ref://../reference/Classes/NMFOverlay.html#/c%3Aobjc%28cs%29NMFOverlay%28py%29globalZIndex" target="_blank"><code>globalZIndex</code></a> property specifies the stack order of an overlay. If <code>globalZIndex</code> is <code>0</code> or bigger, the overlay is drawn on top of symbols; if the property is smaller than <code>0</code>, it is drawn beneath symbols. Note that an overlay is always drawn on top of the map background no matter how small <code>globalZIndex</code> is. The default <code>globalZIndex</code> values for each overlay type are as follows.</p>
<ul>
<li>Info window: <code>400000</code></li>
<li>Location overlay: <code>300000</code></li>
<li>Marker: <code>200000</code></li>
<li>Arrowhead path overlay: <code>100000</code></li>
<li><em>(Map symbols)</em></li>
<li>Path: <code>-100000</code></li>
<li>Shape (polygon, polyline, circle): <code>-200000</code></li>
<li>Ground overlay: <code>-300000</code></li>
<li><em>(Map background)</em></li>
</ul>
<p>For example, a path is drawn on top of a shape, and beneath a symbol on the map by default. However, if the <code>globalZIndex</code> property of a path is set to <code>250000</code>, it is drawn on top of markers and beneath a location overlay.</p>
<p>The following code example specifies the stacking order of three overlays, as polygon -&gt; path -&gt; marker. </p>
<p><div id="33bdbae9a363b10d4e867a3c6d661765" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-07de9ddb8d0ec2cf188979a72bb8eb7e" class="gbcg-selector gbcg-active" data-tab="0-07de9ddb8d0ec2cf188979a72bb8eb7e" data-tab-category="undefined">Swift</a>
    <a id="select-1-3bbc0641e8e05d8749a9693f803e444f" class="gbcg-selector" data-tab="1-3bbc0641e8e05d8749a9693f803e444f" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-07de9ddb8d0ec2cf188979a72bb8eb7e" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">polygon.globalZIndex = <span class="hljs-number">150000</span>
path.globalZIndex = <span class="hljs-number">50000</span>
marker.globalZIndex = -<span class="hljs-number">500000</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-07de9ddb8d0ec2cf188979a72bb8eb7e" id="swift">Swift</h3>
        <div id="0-07de9ddb8d0ec2cf188979a72bb8eb7e" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">polygon.globalZIndex = <span class="hljs-number">150000</span>
path.globalZIndex = <span class="hljs-number">50000</span>
marker.globalZIndex = -<span class="hljs-number">500000</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-3bbc0641e8e05d8749a9693f803e444f" id="objective-c">Objective-C</h3>
        <div id="1-3bbc0641e8e05d8749a9693f803e444f" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">polygon.globalZIndex = 150000;
path.globalZIndex = 50000;
marker.globalZIndex = -50000;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p><img src="../assets/5-1-z-index.png" alt="Global z-indexes specified"></p>
<h3 id="local-z-index">Local z-index</h3>
<p>The <a href="ref://../reference/Classes/NMFOverlay.html#/c%3Aobjc%28cs%29NMFOverlay%28py%29zIndex" target="_blank"><code>zIndex</code></a> property specifies the stack order of overlays with the same <code>globalZIndex</code>. If two overlays have the same <code>globalZIndex</code> value, an overlay with the higher <code>zIndex</code> is displayed on top of the other. For example, even if the <code>zIndex</code> of a marker is set to <code>1</code>, and the <code>zIndex</code> of a ground overlay is set to <code>2</code>, the marker is drawn on top of the ground overlay because the marker&#x2019;s default <code>globalZIndex</code> is <code>200000</code>, and that of the ground overlay is <code>-300000</code>. Since the default value of the <code>zIndex</code> property is <code>0</code> regardless of the type of an overlay, <code>zIndex</code> can be used more intuitively than <code>globalZIndex</code> to specify the stack order of overlays with the same type.</p>
<p>The following code example specifies the stacking order of three markers as yellow -&gt; green -&gt; blue. </p>
<p><div id="2cc4ee41ef659cf79d6451dd94da4ede" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-8fc59988699bf2e41f852872800940b5" class="gbcg-selector gbcg-active" data-tab="0-8fc59988699bf2e41f852872800940b5" data-tab-category="undefined">Swift</a>
    <a id="select-1-e09c951c759b21b18117328de5b82f8e" class="gbcg-selector" data-tab="1-e09c951c759b21b18117328de5b82f8e" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-8fc59988699bf2e41f852872800940b5" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">yellowMarker.zIndex = <span class="hljs-number">100</span>
greenMarker.zIndex = <span class="hljs-number">0</span>
blueMarker.zIndex = -<span class="hljs-number">10</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-8fc59988699bf2e41f852872800940b5" id="swift">Swift</h3>
        <div id="0-8fc59988699bf2e41f852872800940b5" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">yellowMarker.zIndex = <span class="hljs-number">100</span>
greenMarker.zIndex = <span class="hljs-number">0</span>
blueMarker.zIndex = -<span class="hljs-number">10</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-e09c951c759b21b18117328de5b82f8e" id="objective-c">Objective-C</h3>
        <div id="1-e09c951c759b21b18117328de5b82f8e" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">yellowMarker.zIndex = 100;
greenMarker.zIndex = 0;
blueMarker.zIndex = -10;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p><img src="../assets/5-2-use-zindex.png" alt="Markers with z-indexes specified"></p>
<h2 id="show-and-hide-overlays">Show and hide overlays</h2>
<p>All overlays have the visibility and maximum/minimum zoom level properties. To hide an overlay temporarily or in a certain situation, use these properties, rather than the <code>mapView</code> property.</p>
<h3 id="visibility">Visibility</h3>
<p>Set <a href="ref://../reference/Classes/NMFOverlay.html#/c%3Aobjc%28cs%29NMFOverlay%28py%29hidden" target="_blank"><code>hidden</code></a> to <code>YES</code> to hide an overlay. The relation between the overlay and the map still remains the same.</p>
<p>The following code example hides an overlay.</p>
<p><div id="84d01e27a95ede4db21818248e2e565a" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-13da35eb29b189c7d93a19375f18f2f2" class="gbcg-selector gbcg-active" data-tab="0-13da35eb29b189c7d93a19375f18f2f2" data-tab-category="undefined">Swift</a>
    <a id="select-1-ce79977d440a0ffcd60b44272dfe868a" class="gbcg-selector" data-tab="1-ce79977d440a0ffcd60b44272dfe868a" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-13da35eb29b189c7d93a19375f18f2f2" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">overlay.hidden = <span class="hljs-literal">true</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-13da35eb29b189c7d93a19375f18f2f2" id="swift">Swift</h3>
        <div id="0-13da35eb29b189c7d93a19375f18f2f2" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">overlay.hidden = <span class="hljs-literal">true</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-ce79977d440a0ffcd60b44272dfe868a" id="objective-c">Objective-C</h3>
        <div id="1-ce79977d440a0ffcd60b44272dfe868a" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">overlay.hidden = YES;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="minimum-and-maximum-zoom-levels">Minimum and maximum zoom levels</h3>
<p>Use <a href="ref://../reference/Classes/NMFOverlay.html#/c%3Aobjc%28cs%29NMFOverlay%28py%29minZoom" target="_blank"><code>minZoom</code></a> and <a href="ref://../reference/Classes/NMFOverlay.html#/c%3Aobjc%28cs%29NMFOverlay%28py%29maxZoom" target="_blank"><code>maxZoom</code></a> to show an overlay at a specified zoom level. If the camera&#x2019;s zoom level is out of the range between the <code>minZoom</code> and the <code>maxZoom</code>, the overlay is hidden.</p>
<p>The following code example sets an overlay to be shown only at the levels, between 12 and 16.</p>
<p><div id="b08dc873d4ffa8f16bb72f2ebee007b6" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-7c132c148ef7f14c46b89919fb78ecb0" class="gbcg-selector gbcg-active" data-tab="0-7c132c148ef7f14c46b89919fb78ecb0" data-tab-category="undefined">Swift</a>
    <a id="select-1-8e3e724c567ee482a546b2698b97256c" class="gbcg-selector" data-tab="1-8e3e724c567ee482a546b2698b97256c" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-7c132c148ef7f14c46b89919fb78ecb0" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">overlay.minZoom = <span class="hljs-number">12</span>
overlay.maxZoom = <span class="hljs-number">16</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-7c132c148ef7f14c46b89919fb78ecb0" id="swift">Swift</h3>
        <div id="0-7c132c148ef7f14c46b89919fb78ecb0" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">overlay.minZoom = <span class="hljs-number">12</span>
overlay.maxZoom = <span class="hljs-number">16</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-8e3e724c567ee482a546b2698b97256c" id="objective-c">Objective-C</h3>
        <div id="1-8e3e724c567ee482a546b2698b97256c" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">overlay.minZoom = 12;
overlay.maxZoom = 16;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h2 id="event">Event</h2>
<p>All overlays can receive and consume touch events. A touch event for overlays should be added to each overlay, not the map.</p>
<h3 id="touch-event">Touch event</h3>
<p>Set <a href="ref://../reference/Overlay.html#/c:NMFOverlay.h@T@overlayTouchHandler" target="_blank"><code>overlayTouchHandler</code></a> in the <a href="ref://../reference/Classes/NMFOverlay.html#/c%3Aobjc%28cs%29NMFOverlay%28py%29touchHandler" target="_blank"><code>touchHandler</code></a> property to receive a touch event for overlays. When an overlay is tapped, the block method implemented in the <code>touchHandler</code> is called with the tapped overlay object passed as a parameter.</p>
<p>The following code example sets a touch handler to display a log saying &#x201C;Overlay is touched&#x201D; whenever an overlay is tapped. </p>
<p><div id="ce10a94b1724517445ff0a7d26b2ca18" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-586bfe33da774abffb8c157b0f46276b" class="gbcg-selector gbcg-active" data-tab="0-586bfe33da774abffb8c157b0f46276b" data-tab-category="undefined">Swift</a>
    <a id="select-1-5617b1db3630520831b73dac02ee77ba" class="gbcg-selector" data-tab="1-5617b1db3630520831b73dac02ee77ba" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-586bfe33da774abffb8c157b0f46276b" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">overlay.touchHandler = { (overlay: <span class="hljs-type">NMFOverlay</span>) -&gt; <span class="hljs-type">Bool</span> <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Overlay is touched&quot;</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-586bfe33da774abffb8c157b0f46276b" id="swift">Swift</h3>
        <div id="0-586bfe33da774abffb8c157b0f46276b" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">overlay.touchHandler = { (overlay: <span class="hljs-type">NMFOverlay</span>) -&gt; <span class="hljs-type">Bool</span> <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Overlay is touched&quot;</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-5617b1db3630520831b73dac02ee77ba" id="objective-c">Objective-C</h3>
        <div id="1-5617b1db3630520831b73dac02ee77ba" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">overlay.touchHandler =  ^BOOL(NMFOverlay *overlay) {
    NSLog(@&quot;Overlay is touched&quot;);
    return YES;
};
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>Only one touch event listener can be added to an overlay. To remove the touch event listener, set the <code>touchHandler</code> property to <code>nil</code>.</p>
<p>The following code example removes the touch handler of an overlay.</p>
<p><div id="5a5143e6a4dd348731ce2d7119d5e2b2" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-393e142432652bcd5e78b707134b79f4" class="gbcg-selector gbcg-active" data-tab="0-393e142432652bcd5e78b707134b79f4" data-tab-category="undefined">Swift</a>
    <a id="select-1-2886aec970b39ae9e1247f3c5948c620" class="gbcg-selector" data-tab="1-2886aec970b39ae9e1247f3c5948c620" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-393e142432652bcd5e78b707134b79f4" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">overlay.touchHandler = <span class="hljs-literal">nil</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-393e142432652bcd5e78b707134b79f4" id="swift">Swift</h3>
        <div id="0-393e142432652bcd5e78b707134b79f4" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">overlay.touchHandler = <span class="hljs-literal">nil</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-2886aec970b39ae9e1247f3c5948c620" id="objective-c">Objective-C</h3>
        <div id="1-2886aec970b39ae9e1247f3c5948c620" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">overlay.touchHandler = nil;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>A touch handler should be added to every overlay which needs to receive events. If an overlay has no touch handler added, a tap on the overlay is ignored. For example, if there are two overlays overlapped with each other and the one on top of the other does not have a touch handler added, the other one receives a touch event. If there is no overlapped overlay or a touch handler is not added, it is considered that the map is tapped.</p>
<h3 id="propagate-and-consume-events">Propagate and consume events</h3>
<p>An overlay touch event can be propagated to the map. To propagate an event to the map, you should make <code>touchHandler</code> return <code>NO</code>. After the <code>touchHandler</code> returns <code>NO</code>, the <code>-didTapMapView:LatLng:</code> delegate method of the map is called. On the contrary, if the <code>touchHandler</code> returns <code>YES</code>, it is considered that the overlay consumes the event and thus the <code>-didTapMapView:LatLng:</code> of the map is not called.</p>
<p>In the following code example, <code>marker1</code> propagates touch events and <code>marker2</code> consumes them. Whereas both log messages, &#x201C;Marker is touched&#x201D; and &#x201C;Map is touched&#x201D; are displayed when the <code>marker1</code> is tapped, only the log message, &#x201C;Marker 2 is touched&#x201D; is displayed when the <code>marker2</code> is tapped.</p>
<p><div id="59bc9ccc62cff6ad07b31cfe32edc2b7" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-e063a16fbe1372421f2f1905b9509215" class="gbcg-selector gbcg-active" data-tab="0-e063a16fbe1372421f2f1905b9509215" data-tab-category="undefined">Swift</a>
    <a id="select-1-f2b780cc1ea36344a8d15a5a0120add4" class="gbcg-selector" data-tab="1-f2b780cc1ea36344a8d15a5a0120add4" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-e063a16fbe1372421f2f1905b9509215" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift">marker1.touchHandler = { (overlay) -&gt; <span class="hljs-type">Bool</span> <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Marker 1 is touched&quot;</span>)
    <span class="hljs-comment">// Propagates the event.</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
}

marker2.touchHandler = { (overlay) -&gt; <span class="hljs-type">Bool</span> <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Marker 2 is touched&quot;</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">didTapMapView</span><span class="hljs-params">(<span class="hljs-number">_</span> point: CGPoint, latLng latlng: NMGLatLng)</span></span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Map is touched&quot;</span>)
}
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-e063a16fbe1372421f2f1905b9509215" id="swift">Swift</h3>
        <div id="0-e063a16fbe1372421f2f1905b9509215" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift">marker1.touchHandler = { (overlay) -&gt; <span class="hljs-type">Bool</span> <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Marker 1 is touched&quot;</span>)
    <span class="hljs-comment">// Propagates the event.</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
}

marker2.touchHandler = { (overlay) -&gt; <span class="hljs-type">Bool</span> <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Marker 2 is touched&quot;</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">didTapMapView</span><span class="hljs-params">(<span class="hljs-number">_</span> point: CGPoint, latLng latlng: NMGLatLng)</span></span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Map is touched&quot;</span>)
}
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-f2b780cc1ea36344a8d15a5a0120add4" id="objective-c">Objective-C</h3>
        <div id="1-f2b780cc1ea36344a8d15a5a0120add4" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">marker1.touchHandler =  ^BOOL(NMFOverlay *overlay) {
    NSLog(@&quot;Marker 1 is touched&quot;);
    // Propagates the event.
    return NO;
};

marker2.touchHandler =  ^BOOL(NMFOverlay *overlay) {
    NSLog(@&quot;Marker 1 is touched&quot;);
    // Consumes the event.
    return YES;
};

- (void)didTapMapView:(CGPoint)point LatLng:(NMGLatLng*)latlng {
    NSLog(@&quot;Map is touched&quot;);
}
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<p>Overlays can propagate an event only to the map. That is, even if there are multiple overlays or symbols overlapped under the overlay that triggers an event, it is not propagated to those overlays or symbols. </p>
<h2 id="userinfo">userInfo</h2>
<p>The <a href="ref://../reference/Classes/NMFOverlay.html#/c%3Aobjc%28cs%29NMFOverlay%28py%29userInfo" target="_blank"><code>userInfo</code></a> property specifies additional information for an overlay. This property is useful especially when combined with a touch event handler. Since <code>touchHandler</code> can use the information saved in <code>userInfo</code> to identify which overlay is tapped, you can let multiple overlays share a touch handler.</p>
<p>The following code example adds <code>userInfo</code> to <code>marker1</code> and <code>marker2</code> to share a touch handler.</p>
<p><div id="db14f32042ffd1ddecc7975a5d4abb80" class="gbcg gbcg-codegroup">
  <div class="gbcg-tab-selectors">
    <a id="select-0-86320d3e2065cbcb1fbafd5e93b33ecf" class="gbcg-selector gbcg-active" data-tab="0-86320d3e2065cbcb1fbafd5e93b33ecf" data-tab-category="undefined">Swift</a>
    <a id="select-1-aa8cd9c6ae3d12b2d1b704252cf96874" class="gbcg-selector" data-tab="1-aa8cd9c6ae3d12b2d1b704252cf96874" data-tab-category="undefined">Objective-C</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="0-86320d3e2065cbcb1fbafd5e93b33ecf" class="gbcg-tab-item gbcb-Swift">
        <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> handler: overlayTouchHandler = { (overlay) -&gt; <span class="hljs-type">Bool</span> <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Marker <span class="hljs-subst">\(overlay.userInfo[&quot;tag&quot;] ?? &quot;tag&quot;)</span> is touched&quot;</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
}

marker1.userInfo = [<span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-number">1</span>]
marker2.userInfo = [<span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-number">2</span>]

marker1.touchHandler = handler
marker2.touchHandler = handler
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname 0-86320d3e2065cbcb1fbafd5e93b33ecf" id="swift">Swift</h3>
        <div id="0-86320d3e2065cbcb1fbafd5e93b33ecf" class="gbcg-tab-item gbcb-Swift">
          <pre><code class="lang-Swift"><span class="hljs-keyword">let</span> handler: overlayTouchHandler = { (overlay) -&gt; <span class="hljs-type">Bool</span> <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Marker <span class="hljs-subst">\(overlay.userInfo[&quot;tag&quot;] ?? &quot;tag&quot;)</span> is touched&quot;</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
}

marker1.userInfo = [<span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-number">1</span>]
marker2.userInfo = [<span class="hljs-string">&quot;tag&quot;</span>: <span class="hljs-number">2</span>]

marker1.touchHandler = handler
marker2.touchHandler = handler
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname 1-aa8cd9c6ae3d12b2d1b704252cf96874" id="objective-c">Objective-C</h3>
        <div id="1-aa8cd9c6ae3d12b2d1b704252cf96874" class="gbcg-tab-item gbcb-Objective-C">
          <pre><code class="lang-Objective-C">overlayTouchHandler handler = ^BOOL(NMFOverlay *overlay) {
    NSLog(@&quot;Marker %@ is touched&quot;, overlay.userInfo[@&quot;tag&quot;]);
    return NO;
};

marker1.userInfo = @{@&quot;tag&quot;:@1};
marker2.userInfo = @{@&quot;tag&quot;:@2};

marker1.touchHandler = handler;
marker2.touchHandler = handler;
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="5-2.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Marker">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Overlays","level":"2.5.1","depth":2,"next":{"title":"Marker","level":"2.5.2","depth":2,"path":"5-2.md","ref":"5-2.md","articles":[]},"previous":{"title":"Overlay","level":"2.5","depth":1,"ref":"","articles":[{"title":"Overlays","level":"2.5.1","depth":2,"path":"5-1.md","ref":"5-1.md","articles":[]},{"title":"Marker","level":"2.5.2","depth":2,"path":"5-2.md","ref":"5-2.md","articles":[]},{"title":"Info Window","level":"2.5.3","depth":2,"path":"5-3.md","ref":"5-3.md","articles":[]},{"title":"Shapes","level":"2.5.4","depth":2,"path":"5-4.md","ref":"5-4.md","articles":[]},{"title":"Location Overlay","level":"2.5.5","depth":2,"path":"5-5.md","ref":"5-5.md","articles":[]},{"title":"Ground Overlay","level":"2.5.6","depth":2,"path":"5-6.md","ref":"5-6.md","articles":[]},{"title":"Path and Arrow","level":"2.5.7","depth":2,"path":"5-7.md","ref":"5-7.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["otherlink","codegroup"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"otherlink":{},"codegroup":{"defaultTabName":"Code","rememberTabs":"false","tabNameSeperator":"::"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"home.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"NAVER Map iOS SDK","gitbook":"*"},"file":{"path":"5-1.md","mtime":"2025-03-20T09:39:27.142Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-03-20T09:39:29.460Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-otherlink/js/otherlink.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-codegroup/code.group.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

